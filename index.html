<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>John Hampton's Pathway to College Tennis: An Interactive Roadmap</title>
  <meta name="description" content="A year-by-year interactive roadmap for John Hampton to progress toward collegiate tennis â€” UTR targets, timeline, recruitment guidance, SWOT, resources, and parent tools." />
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Resilient Chart.js loader (Promise-based reloader) -->
  <script>
    (function () {
      const CDNS = [
        "https://cdn.jsdelivr.net/npm/chart.js",
        "https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.3/chart.umd.min.js",
        "https://unpkg.com/chart.js@4.4.3/dist/chart.umd.js"
      ];
      function loadFrom(index) {
        return new Promise((resolve, reject) => {
          if (index >= CDNS.length) return reject(new Error("All CDNs failed"));
          const s = document.createElement("script");
          s.src = CDNS[index];
          s.async = true;
          s.onload = () => resolve(CDNS[index]);
          s.onerror = () => loadFrom(index + 1).then(resolve).catch(reject);
          document.head.appendChild(s);
        });
      }
      window.reloadChartJs = function () {
        if (window.Chart) return Promise.resolve("Already loaded");
        return loadFrom(0);
      };
    })();
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

  <style>
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial; background: #1C1917; color: #F5F5F4; overflow-x: hidden; }
    #page-wrapper { transition: transform .3s ease-in-out; }
    #page-wrapper.menu-open { transform: translateX(-80%); }

    .nav-link.active { color: #38BDF8; border-bottom: 2px solid #38BDF8; }

    .chart-container { position: relative; width: 100%; max-width: 900px; margin: 0 auto; height: 300px; }
    @media (min-width: 768px) { .chart-container { height: 400px; } }

    .accordion-content { max-height: 0; overflow: hidden; transition: max-height .45s ease, opacity .25s ease; opacity: 0; }
    .accordion-content.open { opacity: 1; }

    .timeline-line { left: 50%; }
    .left-timeline { flex-direction: row-reverse; }
    .right-timeline { flex-direction: row; }

    @media (max-width: 767px) {
      .timeline-line { left: 20px; }
      .left-timeline, .right-timeline { flex-direction: row; justify-content: flex-start; }
      .left-timeline > div:first-child, .right-timeline > div:first-child { width: 0; }
      .left-timeline > div:nth-child(2), .right-timeline > div:nth-child(2) { margin: 0; position: absolute; left: 0; }
      .left-timeline > div:last-child, .right-timeline > div:last-child { width: calc(100% - 60px); margin-left: 60px; }
    }

    #mobile-menu-overlay { position: fixed; top: 0; right: 0; width: 80%; max-width: 320px; height: 100%; background: #292524; z-index: 1000; transform: translateX(100%); transition: transform .28s ease-in-out; box-shadow: -5px 0 20px rgba(0,0,0,.45); display: flex; flex-direction: column; padding-top: 4rem; }
    #mobile-menu-overlay.open { transform: translateX(0); }
    #mobile-menu-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,.5); z-index: 999; display: none; }
    #mobile-menu-backdrop.open { display: block; }
    body.no-scroll { overflow: hidden; }

    .print-toolbar { position: fixed; right: 16px; bottom: 16px; z-index: 60; }
    .print-toolbar button { box-shadow: 0 6px 18px rgba(0,0,0,.35); }

    .no-print { display: block; }
    .print-only { display: none; }

    @media print {
      html, body { background: #fff !important; color: #000 !important; }
      .bg-stone-800, .bg-stone-900, .bg-stone-700 { background: #fff !important; }
      .text-stone-100, .text-stone-300, .text-stone-400 { color: #000 !important; }
      table { border-collapse: collapse !important; }
      thead tr { border-bottom: 2px solid #000 !important; }
      tbody tr { border-bottom: 1px solid #000 !important; }
      th, td { border: 1px solid #000 !important; }
      .no-print, header, .print-toolbar, #mobile-menu-overlay, #mobile-menu-backdrop { display: none !important; }
      main.container, .container { max-width: 100% !important; padding: 0 12mm !important; }
      a[href]:after { content: '' !important; }
    }
  </style>
</head>
<body class="antialiased">
  <div id="page-wrapper">
    <!-- Header -->
    <header class="bg-stone-800/90 backdrop-blur-lg sticky top-0 z-50 shadow-sm no-print">
      <nav class="container mx-auto px-4 py-4">
        <div class="flex items-center justify-center mb-3">
          <span class="text-4xl mr-3" role="img" aria-label="Tennis Ball">ðŸŽ¾</span>
          <h1 class="text-2xl md:text-3xl font-bold">John Hampton's College Tennis Roadmap</h1>
        </div>
        <div class="hidden md:flex items-center justify-center flex-wrap gap-x-6 gap-y-2" role="navigation" aria-label="Main navigation">
          <a href="#vision" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">The Vision</a>
          <a href="#metrics" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">The Metrics</a>
          <a href="#pathway" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">The Pathway</a>
          <a href="#next-actions" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">Next Actions</a>
          <a href="#milestones" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">Milestones</a>
          <a href="#strategy" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">Match Strategy</a>
          <a href="#recruitment-email" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">Recruitment Email</a>
          <a href="#swot-analysis" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">SWOT Analysis</a>
          <a href="#glossary" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">Glossary</a>
          <a href="#resources" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">Resources</a>
          <a href="#finances" class="nav-link text-stone-300 hover:text-sky-400 font-medium pb-1">The Finances</a>
        </div>
        <div class="md:hidden flex justify-end">
          <button id="mobile-menu-button" class="text-stone-300 hover:text-sky-400 focus:outline-none" aria-controls="mobile-menu-overlay" aria-expanded="false" aria-label="Open menu">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
      </nav>
    </header>

    <!-- Print toolbar -->
    <div class="print-toolbar no-print">
      <div class="flex flex-col gap-2">
        <button id="btn-print-all" class="bg-sky-600 hover:bg-sky-500 text-white px-4 py-2 rounded">Print Page (PDF)</button>
        <button id="btn-print-cc" class="bg-stone-700 hover:bg-stone-600 text-white px-4 py-2 rounded">Print Checklists + Calendar</button>
      </div>
    </div>

    <!-- Main -->
    <main class="container mx-auto p-4 md:p-8">
      <!-- Intro -->
      <section id="intro" class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-extrabold mb-4">The Pathway to Collegiate Tennis</h2>
        <p class="max-w-3xl mx-auto text-lg text-stone-300">A comprehensive, year-by-year guide to prepare John Kylan Hampton for college tennis â€” athletic development, academics, and recruitment strategy.</p>

        <!-- NEW: Audio overview button -->
        <div class="mt-6 text-center">
          <a
            href="https://notebooklm.google.com/notebook/d50a0031-7f1b-48bb-b299-25a7082b4143?artifactId=3a67242a-aa48-4214-be73-0b520b6895e4"
            target="_blank"
            rel="noopener"
            title="An audio summary of Johnâ€™s college tennis roadmap"
            class="inline-block bg-sky-500 text-white px-6 py-2 rounded-lg shadow hover:bg-sky-400 transition"
          >ðŸŽ§ Listen to Audio Overview</a>
        </div>

        <div class="mt-8 flex justify-center items-center space-x-8">
          <div class="text-center">
            <p id="john-age" class="text-3xl font-bold text-sky-400">â€”</p>
            <p class="text-sm text-stone-300">Current Age</p>
          </div>
          <div class="text-center">
            <p class="text-3xl font-bold text-sky-400">3.9</p>
            <p class="text-sm text-stone-300">Current UTR</p>
          </div>
        </div>
      </section>

      <!-- Vision -->
      <section id="vision" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-2">The Vision: What Coaches Look For</h3>
        <p class="text-center text-stone-300 mb-8 max-w-2xl mx-auto">College coaches seek well-rounded student-athletes. Success in recruitment goes beyond rankings to include academics, character, and demonstrated potential.</p>

        <div id="accordion-container" class="max-w-3xl mx-auto space-y-4">
          <div class="accordion-item bg-stone-800 rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-lg" aria-expanded="false" aria-controls="acc-athletic" id="acc-athletic-btn">
              <span>Athletic Ability & Potential</span><span class="acc-icon transform transition-transform">â–¼</span>
            </button>
            <div id="acc-athletic" class="accordion-content" role="region" aria-labelledby="acc-athletic-btn">
              <div class="p-5 pt-0 text-stone-300">
                <ul class="list-disc list-inside space-y-2">
                  <li><strong>UTR & Rankings:</strong> A high UTR and TennisRecruiting.net star rating are primary filters.</li>
                  <li><strong>Tournament Performance:</strong> Consistent competition in high-level events (USTA L4-L1, National Opens).</li>
                  <li><strong>Technical Skills:</strong> Strong fundamentals, variety, and controlled power.</li>
                  <li><strong>Physicality:</strong> Strength, endurance, and court speed.</li>
                  <li><strong>Growth Potential:</strong> High ceiling and strong work ethic.</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="accordion-item bg-stone-800 rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-lg" aria-expanded="false" aria-controls="acc-academic" id="acc-academic-btn">
              <span>Academic Excellence</span><span class="acc-icon transform transition-transform">â–¼</span>
            </button>
            <div id="acc-academic" class="accordion-content" role="region" aria-labelledby="acc-academic-btn">
              <div class="p-5 pt-0 text-stone-300">
                <ul class="list-disc list-inside space-y-2">
                  <li><strong>GPA & Rigor:</strong> Strong GPA in challenging courses (AP/IB).</li>
                  <li><strong>Tests:</strong> High SAT/ACT for eligibility and scholarships.</li>
                  <li><strong>NCAA/NAIA:</strong> Meet core course and GPA requirements.</li>
                  <li><strong>Discipline:</strong> Time management and consistency in studies.</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="accordion-item bg-stone-800 rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-lg" aria-expanded="false" aria-controls="acc-character" id="acc-character-btn">
              <span>Character & Intangibles</span><span class="acc-icon transform transition-transform">â–¼</span>
            </button>
            <div id="acc-character" class="accordion-content" role="region" aria-labelledby="acc-character-btn">
              <div class="p-5 pt-0 text-stone-300">
                <ul class="list-disc list-inside space-y-2">
                  <li><strong>Mental Toughness:</strong> Compete under pressure; bounce back from setbacks.</li>
                  <li><strong>Coachability:</strong> Willingness to learn and accept feedback.</li>
                  <li><strong>Work Ethic:</strong> Consistent training and self-improvement.</li>
                  <li><strong>Professionalism:</strong> Respectful communication.</li>
                  <li><strong>Team Fit:</strong> Positive contribution to team culture.</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Next Actions -->
      <section id="next-actions" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-2">Next Actions (This Month)</h3>
        <p class="text-center text-stone-300 mb-8 max-w-2xl mx-auto">Quick, high-impact tasks generated from Johnâ€™s current age. These refresh automatically each year based on his date of birth.</p>
        <div class="max-w-3xl mx-auto bg-stone-800 p-6 rounded-lg shadow-md">
          <ul id="next-actions-list" class="list-disc list-inside space-y-2 text-stone-300"></ul>
          <p class="text-xs text-stone-400 mt-4">Tip: Review with coaches to align training and competition calendars.</p>
        </div>
      </section>

      <!-- Metrics -->
      <section id="metrics" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-2">The Metrics: UTR Targets by Year</h3>
        <p class="text-center text-stone-300 mb-8 max-w-2xl mx-auto">The chart shows the target range by the end of each highâ€‘school year, matching the pathway below.</p>

        <div class="bg-stone-800 p-4 md:p-8 rounded-xl shadow-lg">
          <div class="chart-container">
            <canvas id="utrChart" role="img" aria-label="UTR progression chart"></canvas>
          </div>

          <!-- Chart fallback -->
          <div id="chart-fallback" class="mt-4 text-stone-300 text-sm hidden">
            <div class="bg-stone-900 rounded p-4">
              <p class="mb-2"><strong>Chart unavailable.</strong> Target UTR range by year:</p>
              <ul class="list-disc list-inside space-y-1">
                <li id="fb-fresh"></li>
                <li id="fb-soph"></li>
                <li id="fb-junior"></li>
                <li id="fb-senior"></li>
              </ul>
              <button id="btn-reload-chart" class="mt-3 bg-sky-600 hover:bg-sky-500 text-white px-4 py-2 rounded no-print">Reload Chart</button>
            </div>
          </div>
        </div>

        <div class="mt-8 overflow-x-auto">
          <table class="min-w-full bg-stone-800 rounded-lg shadow-md">
            <thead class="bg-stone-700">
              <tr>
                <th scope="col" class="p-4 text-left font-semibold">NCAA Division / Association</th>
                <th scope="col" class="p-4 text-center font-semibold">Target UTR (Age 17)</th>
                <th scope="col" class="p-4 text-center font-semibold">TennisRecruiting.net Star Rating</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-b border-stone-700">
                <td class="p-4 text-stone-300">Tier 1 (Top NCAA D1)</td>
                <td class="p-4 text-center font-mono text-stone-300">12.5+</td>
                <td class="p-4 text-center text-stone-300">5-Star / Blue Chip</td>
              </tr>
              <tr class="border-b border-stone-700">
                <td class="p-4 text-stone-300">Tier 2 (Lower D1 / Top D2 & NAIA)</td>
                <td class="p-4 text-center font-mono text-stone-300">11.5+</td>
                <td class="p-4 text-center text-stone-300">4-Star+</td>
              </tr>
              <tr class="border-b border-stone-700">
                <td class="p-4 text-stone-300">Tier 3 (Lower NCAA D2)</td>
                <td class="p-4 text-center font-mono text-stone-300">9.5+</td>
                <td class="p-4 text-center text-stone-300">2-Star+ / 3-Star</td>
              </tr>
              <tr>
                <td class="p-4 text-stone-300">Tier 4 (NCAA D3)</td>
                <td class="p-4 text-center font-mono text-stone-300">6.0 - 11.0+</td>
                <td class="p-4 text-center text-stone-300">1-Star+</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Pathway -->
      <section id="pathway" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-8">The Pathway: Year-by-Year Progression</h3>
        <div class="relative wrap overflow-hidden p-4 md:p-10">
          <div class="timeline-line absolute border-opacity-20 border-stone-600 h-full border" style="left: 50%"></div>

          <!-- Freshman -->
          <div id="freshman" class="mb-8 flex justify-between items-center w-full right-timeline">
            <div class="order-1 w-5/12 md:block hidden"></div>
            <div class="z-20 flex items-center order-1 bg-sky-500 shadow-xl w-12 h-12 rounded-full" aria-hidden="true">
              <h2 id="fresh-circle" class="mx-auto font-bold text-lg text-white">--</h2>
            </div>
            <div class="order-1 bg-stone-800 rounded-lg shadow-xl w-full md:w-5/12 px-6 py-4">
              <h4 id="fresh-title" class="font-bold text-lg mb-2">Age -- (Freshman)</h4>
              <p class="text-sm text-stone-300"><strong>Focus:</strong> Foundational development.</p>
              <ul class="list-disc list-inside text-sm mt-2 space-y-1">
                <li id="fresh-utr" class="text-stone-300"><strong>UTR Target:</strong> â€”</li>
                <li><strong>Tennis:</strong> Consistency, serve development, mental toughness basics.</li>
                <li><strong>Tournaments:</strong> USTA L7 & L6.</li>
                <li><strong>Academics:</strong> Establish strong GPA; understand NCAA core courses.</li>
                <li><strong>Recruitment:</strong> Create TRN profile; build preliminary list.</li>
              </ul>
            </div>
          </div>

          <!-- Sophomore -->
          <div id="sophomore" class="mb-8 flex justify-between flex-row-reverse items-center w-full left-timeline">
            <div class="order-1 w-5/12 md:block hidden"></div>
            <div class="z-20 flex items-center order-1 bg-sky-500 shadow-xl w-12 h-12 rounded-full" aria-hidden="true">
              <h2 id="soph-circle" class="mx-auto text-white text-lg font-bold">--</h2>
            </div>
            <div class="order-1 bg-stone-800 rounded-lg shadow-xl w-full md:w-5/12 px-6 py-4">
              <h4 id="soph-title" class="font-bold text-lg mb-2">Age -- (Sophomore)</h4>
              <p class="text-sm text-stone-300"><strong>Focus:</strong> Accelerated growth & early exposure.</p>
              <ul class="list-disc list-inside text-sm mt-2 space-y-1">
                <li id="soph-utr" class="text-stone-300"><strong>UTR Target:</strong> â€”</li>
                <li><strong>Tennis:</strong> Tactical growth, analysis, conditioning.</li>
                <li><strong>Tournaments:</strong> USTA L6 & L5; UTR-verified events.</li>
                <li><strong>Academics:</strong> Maintain GPA; begin SAT/ACT prep.</li>
                <li><strong>Recruitment:</strong> Create highlight video; coach contact opens Jun 15.</li>
              </ul>
            </div>
          </div>

          <!-- Junior -->
          <div id="junior" class="mb-8 flex justify-between items-center w-full right-timeline">
            <div class="order-1 w-5/12 md:block hidden"></div>
            <div class="z-20 flex items-center order-1 bg-sky-500 shadow-xl w-12 h-12 rounded-full" aria-hidden="true">
              <h2 id="junior-circle" class="mx-auto font-bold text-lg text-white">--</h2>
            </div>
            <div class="order-1 bg-stone-800 rounded-lg shadow-xl w-full md:w-5/12 px-6 py-4">
              <h4 id="junior-title" class="font-bold text-lg mb-2">Age -- (Junior)</h4>
              <p class="text-sm text-stone-300"><strong>Focus:</strong> Intensified recruitment & high-level competition.</p>
              <ul class="list-disc list-inside text-sm mt-2 space-y-1">
                <li id="junior-utr" class="text-stone-300"><strong>UTR Target:</strong> â€”</li>
                <li><strong>Tennis:</strong> Consistent, well-rounded game under pressure.</li>
                <li><strong>Tournaments:</strong> USTA L5, L4 & L3.</li>
                <li><strong>Academics:</strong> SAT/ACT; core courses on track.</li>
                <li><strong>Recruitment:</strong> Proactive coach outreach; visits.</li>
              </ul>
            </div>
          </div>

          <!-- Senior -->
          <div id="senior" class="mb-8 flex justify-between flex-row-reverse items-center w-full left-timeline">
            <div class="order-1 w-5/12 md:block hidden"></div>
            <div class="z-20 flex items-center order-1 bg-sky-500 shadow-xl w-12 h-12 rounded-full" aria-hidden="true">
              <h2 id="senior-circle" class="mx-auto text-white text-lg font-bold">--</h2>
            </div>
            <div class="order-1 bg-stone-800 rounded-lg shadow-xl w-full md:w-5/12 px-6 py-4">
              <h4 id="senior-title" class="font-bold text-lg mb-2">Age -- (Senior)</h4>
              <p class="text-sm text-stone-300"><strong>Focus:</strong> Decision & commitment.</p>
              <ul class="list-disc list-inside text-sm mt-2 space-y-1">
                <li id="senior-utr" class="text-stone-300"><strong>UTR Target:</strong> â€”</li>
                <li><strong>Tennis:</strong> Peak performance in high-stakes tournaments.</li>
                <li><strong>Academics:</strong> Finalize grades/tests; ensure eligibility.</li>
                <li><strong>Recruitment:</strong> Finish applications; sign NLI if offered; consider walk-on roles.</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Milestones -->
      <section id="milestones" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-2">Recruitment and Eligibility Milestones</h3>
        <p class="text-center text-stone-300 mb-8 max-w-2xl mx-auto">When to engage with key organizations and rules for eligibility.</p>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="bg-stone-800 p-6 rounded-lg shadow-md">
            <h4 class="font-bold text-xl mb-2">NCAA Eligibility Center</h4>
            <p class="text-stone-300 mb-4">Verifies academic and amateur status. Mandatory for D1 & D2.</p>
            <ul class="list-disc list-inside text-stone-300 space-y-2">
              <li><strong>Why:</strong> Required to be recruited and offered scholarships at D1/D2.</li>
              <li><strong>When:</strong>
                <ul class="list-disc list-inside ml-4 mt-1">
                  <li><strong>Age 14:</strong> Understand core courses; plan curriculum.</li>
                  <li><strong>Age 15-16:</strong> Register and send SAT/ACT scores as needed.</li>
                </ul>
              </li>
            </ul>
          </div>

          <div class="bg-stone-800 p-6 rounded-lg shadow-md">
            <h4 class="font-bold text-xl mb-2">NAIA Eligibility Center</h4>
            <p class="text-stone-300 mb-4">Determines eligibility for NAIA schools.</p>
            <ul class="list-disc list-inside text-stone-300 space-y-2">
              <li><strong>Why:</strong> Ensures academic standards for NAIA.</li>
              <li><strong>When:</strong>
                <ul class="list-disc list-inside ml-4 mt-1">
                  <li><strong>Age 15-16:</strong> Register and handle test scores.</li>
                </ul>
              </li>
            </ul>
          </div>

          <div class="bg-stone-800 p-6 rounded-lg shadow-md">
            <h4 class="font-bold text-xl mb-2">UTR Sports & TennisRecruiting.net</h4>
            <p class="text-stone-300 mb-4">Core platforms for objective data and coach visibility.</p>
            <ul class="list-disc list-inside text-stone-300 space-y-2">
              <li><strong>Why:</strong> Coaches compare players using UTR and TRN.</li>
              <li><strong>When:</strong>
                <ul class="list-disc list-inside ml-4 mt-1">
                  <li><strong>Age 13-14:</strong> Create profiles; play UTR-verified events.</li>
                  <li><strong>Ongoing:</strong> Update results, academics, and highlights.</li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Strategy -->
      <section id="strategy" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-2">Match Strategy Examples</h3>
        <div class="bg-stone-800 p-6 rounded-lg shadow-md max-w-2xl mx-auto space-y-6">
          <div>
            <h4 class="font-bold text-xl mb-2">Against a Higher-Rated Opponent</h4>
            <p class="text-stone-300"><strong>Tactical:</strong> Consistency and forcing errors. <strong>Mental:</strong> Patient, celebrate small wins. <strong>Shots:</strong> Heavy topspin, slice to disrupt, attack short balls.</p>
          </div>
          <div>
            <h4 class="font-bold text-xl mb-2">Against a Lower-Rated Opponent</h4>
            <p class="text-stone-300"><strong>Tactical:</strong> Dictate pace, mix shots. <strong>Mental:</strong> Stay focused, avoid unforced errors. <strong>Shots:</strong> Deep/aggressive, serve to gain early advantage.</p>
          </div>
          <div>
            <h4 class="font-bold text-xl mb-2">Against a Similar-Rated Opponent</h4>
            <p class="text-stone-300"><strong>Tactical:</strong> Consistency + variety. <strong>Mental:</strong> Composed and steady. <strong>Shots:</strong> Use strengths, aim deep, attack short balls.</p>
          </div>
        </div>
      </section>

      <!-- Recruitment Email -->
      <section id="recruitment-email" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-2">Recruitment Email Template</h3>
        <div class="bg-stone-800 p-6 rounded-lg shadow-md max-w-2xl mx-auto">
          <div class="relative">
            <button id="copy-email" class="absolute right-2 top-2 bg-sky-500 hover:bg-sky-400 text-white px-3 py-1 rounded no-print">Copy</button>
            <div id="email-template" class="text-stone-300 whitespace-pre-wrap font-mono text-sm">
Subject: [Your Name] - [Your UTR] UTR - [High School Graduation Year] Recruit

Dear Coach [Coach's Last Name],

My name is [Your Name], and I am a [High School Graduation Year] from [City, State]. I am writing to express interest in your [College Division] program at [College Name]. I believe my [Your Key Strengths] would be a strong fit for your team.

I am currently a [Your Class] at [Your High School] with a [Your GPA] GPA, and a UTR of [Your UTR]. My academic plan is to major in [Your Intended Major].

I have attached my athletic resume and highlight video for your review. I will be competing in the [Upcoming Tournament Name] on [Date] if you are available to observe.

Thank you for your time and consideration.

Sincerely,
[Your Name]
[Your Phone Number]
[Your Email Address]
[Link to UTR profile]
[Link to TennisRecruiting.net profile]
[Link to highlight video]
            </div>
          </div>
        </div>
      </section>

      <!-- SWOT -->
      <section id="swot-analysis" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-2">Example SWOT Analysis</h3>
        <div class="bg-stone-800 p-6 rounded-lg shadow-md max-w-2xl mx-auto">
          <h4 class="font-bold text-xl mb-2">Strengths</h4>
          <ul class="list-disc list-inside text-stone-300 mb-4 space-y-1">
            <li><strong>Excellent Work Ethic:</strong> Dedicated and consistent.</li>
            <li><strong>Coachability:</strong> Adapts and accepts feedback.</li>
            <li><strong>Improved Shot Direction:</strong> Better directional control.</li>
            <li><strong>Defensive Instincts:</strong> Rally consistency baseline.</li>
            <li><strong>Confidence at the Net:</strong> Comfortable finishing points.</li>
          </ul>
          <h4 class="font-bold text-xl mb-2">Weaknesses</h4>
          <ul class="list-disc list-inside text-stone-300 mb-4 space-y-1">
            <li><strong>Inconsistent Performance:</strong> Trouble closing vs. similar UTRs.</li>
            <li><strong>Control Under Pressure:</strong> Sprays long when tight.</li>
            <li><strong>Mental Dips:</strong> Discouraged after lost points.</li>
            <li><strong>Serve:</strong> Needs power and placement gains.</li>
          </ul>
          <h4 class="font-bold text-xl mb-2">Opportunities</h4>
          <ul class="list-disc list-inside text-stone-300 mb-4 space-y-1">
            <li><strong>Doubles Development:</strong> Higher doubles UTR leverage.</li>
            <li><strong>Mental Training:</strong> Routine to handle pressure.</li>
            <li><strong>Coaching:</strong> Leverage Lawrence & Ross for growth.</li>
            <li><strong>Match Volume:</strong> Smart tournament selection.</li>
          </ul>
          <h4 class="font-bold text-xl mb-2">Threats</h4>
          <ul class="list-disc list-inside text-stone-300 space-y-1">
            <li><strong>Plateau Risk:</strong> If core weaknesses persist.</li>
            <li><strong>Confidence Spiral:</strong> Poor results â†’ mindset dips.</li>
            <li><strong>Injury Risk:</strong> Serving mechanics under load.</li>
          </ul>
        </div>
      </section>

      <!-- Glossary -->
      <section id="glossary" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-2">Glossary (Quick Reference)</h3>
        <p class="text-center text-stone-300 mb-8 max-w-2xl mx-auto">Short definitions for terms parents will see during the recruiting journey.</p>

        <div class="max-w-3xl mx-auto space-y-4">
          <div class="accordion-item bg-stone-800 rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-lg">
              <span>UTR (Universal Tennis Rating)</span><span class="acc-icon transform transition-transform">â–¼</span>
            </button>
            <div class="accordion-content">
              <div class="p-5 pt-0 text-stone-300">
                A global 1â€“16 scale that compares players across age and geography. Coaches use it as an objective baseline for strength.
              </div>
            </div>
          </div>

          <div class="accordion-item bg-stone-800 rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-lg">
              <span>TRN (TennisRecruiting.net)</span><span class="acc-icon transform transition-transform">â–¼</span>
            </button>
            <div class="accordion-content">
              <div class="p-5 pt-0 text-stone-300">
                A recruiting database with rankings and profiles. Many college coaches search TRN for prospects and star ratings.
              </div>
            </div>
          </div>

          <div class="accordion-item bg-stone-800 rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-lg">
              <span>NCAA Eligibility Center</span><span class="acc-icon transform transition-transform">â–¼</span>
            </button>
            <div class="accordion-content">
              <div class="p-5 pt-0 text-stone-300">
                The portal that certifies academic and amateur status for D1/D2 recruits. Registration is required before aid/official offers.
              </div>
            </div>
          </div>

          <div class="accordion-item bg-stone-800 rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-lg">
              <span>NLI (National Letter of Intent)</span><span class="acc-icon transform transition-transform">â–¼</span>
            </button>
            <div class="accordion-content">
              <div class="p-5 pt-0 text-stone-300">
                A binding agreement to attend a school in exchange for athletic aid (not used by all divisions). Ends active recruiting from other schools.
              </div>
            </div>
          </div>

          <div class="accordion-item bg-stone-800 rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-lg">
              <span>Official vs. Unofficial Visit</span><span class="acc-icon transform transition-transform">â–¼</span>
            </button>
            <div class="accordion-content">
              <div class="p-5 pt-0 text-stone-300">
                <strong>Official:</strong> School may pay some expenses; limited number and timing rules apply.<br />
                <strong>Unofficial:</strong> Family pays; more flexible; you can still meet coaches and tour facilities.
              </div>
            </div>
          </div>

          <div class="accordion-item bg-stone-800 rounded-lg shadow-md">
            <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-lg">
              <span>Contact Periods (Dead/Quiet/Evaluation)</span><span class="acc-icon transform transition-transform">â–¼</span>
            </button>
            <div class="accordion-content">
              <div class="p-5 pt-0 text-stone-300">
                NCAA defines windows for coachâ€“player contact. <strong>Dead:</strong> No in-person contact/on-campus visits. <strong>Quiet:</strong> On-campus contact allowed, no off-campus.
                <strong>Evaluation:</strong> Coaches can watch/assess off-campus, limited contact.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Resources -->
      <section id="resources" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-8">Resources and Links</h3>
        <div class="bg-stone-800 p-6 rounded-lg shadow-md max-w-3xl mx-auto">
          <p class="text-stone-300 mb-4">Key resources for eligibility and scholarships.</p>
          <ul class="list-disc list-inside space-y-2 text-stone-300">
            <li><a href="https://web3.ncaa.org/ecwr3/" class="text-sky-400 hover:text-sky-500 underline" target="_blank" rel="noopener">NCAA Eligibility Center</a></li>
            <li><a href="https://play.naia.org/" class="text-sky-400 hover:text-sky-500 underline" target="_blank" rel="noopener">NAIA Eligibility Center</a></li>
            <li><a href="https://app.universaltennis.com/" class="text-sky-400 hover:text-sky-500 underline" target="_blank" rel="noopener">UTR Sports</a></li>
            <li><a href="https://www.tennisrecruiting.net/" class="text-sky-400 hover:text-sky-500 underline" target="_blank" rel="noopener">TennisRecruiting.net</a></li>
            <li><a href="https://www.ustafoundation.com/" class="text-sky-400 hover:text-sky-500 underline" target="_blank" rel="noopener">USTA Foundation</a></li>
          </ul>
        </div>
      </section>

      <!-- Finances -->
      <section id="finances" class="mb-16 scroll-mt-20">
        <h3 class="text-3xl font-bold text-center mb-8">The Finances: Scholarship Opportunities</h3>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="bg-stone-800 p-6 rounded-lg shadow-md">
            <h4 class="font-bold text-xl mb-2">Athletic Scholarships</h4>
            <p class="text-stone-300">Offered by NCAA D1, D2, NAIA, and JUCO programs. Full rides are rare; partial awards are common.</p>
          </div>
          <div class="bg-stone-800 p-6 rounded-lg shadow-md">
            <h4 class="font-bold text-xl mb-2">Academic & Merit Aid</h4>
            <p class="text-stone-300">Available at all divisions. Essential for D3 (no athletic scholarships). Strong academics unlock aid.</p>
          </div>
          <div class="bg-stone-800 p-6 rounded-lg shadow-md">
            <h4 class="font-bold text-xl mb-2">Need-Based & External</h4>
            <p class="text-stone-300">Complete the FAFSA. Check USTA Foundation and community awards for supplemental aid.</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-stone-900 text-white mt-16 no-print">
      <div class="container mx-auto p-8 text-center text-sm">
        <p class="mb-1 text-stone-400">&copy; 2025 John Kylan Hampton College Tennis Roadmap. All rights reserved.</p>
        <p class="mb-1 text-stone-400">Prepared by: Herman Lawrence,
          <a href="mailto:hlawrence112@gmail.com" class="text-sky-400 hover:underline">hlawrence112@gmail.com</a>
        </p>
        <p class="mb-1 text-stone-400">Last Updated: July 31, 2025</p>
        <p class="text-stone-400">Disclaimer: This roadmap is a guide and does not guarantee specific outcomes or scholarship offers.</p>
      </div>
    </footer>
  </div>

  <!-- Mobile menu -->
  <div id="mobile-menu-backdrop" class="no-print"></div>
  <nav id="mobile-menu-overlay" aria-hidden="true" aria-label="Mobile menu" class="no-print">
    <button id="close-mobile-menu" class="absolute top-4 right-4 text-white hover:text-sky-300 focus:outline-none" aria-label="Close menu">
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
    <div class="flex flex-col px-4 space-y-3 pt-6">
      <a href="#vision" class="mobile-nav-link text-stone-100 text-xl font-medium">The Vision</a>
      <a href="#metrics" class="mobile-nav-link text-stone-100 text-xl font-medium">The Metrics</a>
      <a href="#pathway" class="mobile-nav-link text-stone-100 text-xl font-medium">The Pathway</a>
      <a href="#next-actions" class="mobile-nav-link text-stone-100 text-xl font-medium">Next Actions</a>
      <a href="#milestones" class="mobile-nav-link text-stone-100 text-xl font-medium">Milestones</a>
      <a href="#strategy" class="mobile-nav-link text-stone-100 text-xl font-medium">Match Strategy</a>
      <a href="#recruitment-email" class="mobile-nav-link text-stone-100 text-xl font-medium">Recruitment Email</a>
      <a href="#swot-analysis" class="mobile-nav-link text-stone-100 text-xl font-medium">SWOT Analysis</a>
      <a href="#glossary" class="mobile-nav-link text-stone-100 text-xl font-medium">Glossary</a>
      <a href="#resources" class="mobile-nav-link text-stone-100 text-xl font-medium">Resources</a>
      <a href="#finances" class="mobile-nav-link text-stone-100 text-xl font-medium">The Finances</a>
    </div>
  </nav>

  <!-- Scripts -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      /* ===== Config ===== */
      const johnDOB = "2012-01-13"; // John's DOB (YYYY-MM-DD)

      /* ===== Targets (shared by chart + timeline) ===== */
      const TARGETS = {
        freshman:  { min: 4.0,  max: 4.5 },
        sophomore: { min: 5.5,  max: 7.0 },
        junior:    { min: 8.0,  max: 10.0 },
        senior:    { min: 9.5,  max: 12.5 }
      };
      const mid = (v) => (v.min + v.max) / 2;

      /* ===== Next Actions (age-aware) ===== */
      const NEXT_ACTIONS = {
        13: [
          "Create/complete UTR and TRN profiles with a current photo.",
          "Enter UTR-verified matches; target 2â€“3 competitive events this quarter.",
          "Weekly serve practice: 2 focused sessions on toss, spin, and targets.",
          "Set up a 30-sec highlight clip (phone is fine) to start a reel."
        ],
        14: [
          "Book USTA L6/L5 events for the next 8â€“10 weeks (mix singles/doubles).",
          "Baseline patterns: crossâ€‘court heavy topspin, add slice variation.",
          "Start light SAT/ACT exposure (vocab/math drills 10â€“15 min/day).",
          "Log match notes after each event (3 strengths, 1 focus area)."
        ],
        15: [
          "Assemble a 90â€‘sec highlight video (serve + 2 best patterns).",
          "Begin college list (10â€“15 schools: D1/D2/D3 mix) with coach input.",
          "Strength/conditioning 2â€“3Ã—/week; track sprint and agility baselines.",
          "Plan 1 campus visit (unofficial) if feasible."
        ],
        16: [
          "Email 5â€“8 coaches monthly with results + next tournaments.",
          "Register NCAA/NAIA eligibility centers and send test scores if applicable.",
          "Play at least one higher-level draw (UTR event or USTA L4/L3).",
          "Schedule 1â€“2 coach calls; prepare 3 thoughtful questions per school."
        ],
        17: [
          "Confirm core courses and GPA for eligibility; finalize test plans.",
          "Narrow college list to 5â€“7; schedule official/unofficial visits.",
          "Update video with recent clips; share before visit weekends.",
          "Prepare for NLI timeline (if applicable) and scholarship discussions."
        ]
      };

      /* ===== Helpers ===== */
      function calculateAge(dobStr, atDate = new Date()) {
        const birthDate = new Date(dobStr);
        if (isNaN(birthDate)) return null;
        let age = atDate.getFullYear() - birthDate.getFullYear();
        const m = atDate.getMonth() - birthDate.getMonth();
        if (m < 0 || (m === 0 && atDate.getDate() < birthDate.getDate())) age--;
        return age;
      }
      const ageNow = calculateAge(johnDOB) ?? 13;

      /* ===== Header: Age ===== */
      const ageEl = document.getElementById("john-age");
      if (ageEl) ageEl.textContent = ageNow;

      /* ===== Next Actions ===== */
      (function setNextActions() {
        const list = document.getElementById("next-actions-list");
        if (!list) return;
        const items = NEXT_ACTIONS[ageNow] || NEXT_ACTIONS[Math.max(13, Math.min(17, ageNow))] || [];
        list.innerHTML = items.map((t) => `<li>${t}</li>`).join("");
      })();

      /* ===== Timeline (auto age labels + UTR ranges) ===== */
      (function setTimeline() {
        const A = { fr: ageNow, so: ageNow + 1, jr: ageNow + 2, sr: ageNow + 3 };
        const rng = (a) => `${a}â€“${a + 1}`;
        const setText = (id, txt) => { const el = document.getElementById(id); if (el) el.textContent = txt; };
        const setHTML = (id, html) => { const el = document.getElementById(id); if (el) el.innerHTML = html; };

        setText("fresh-circle", A.fr); setText("soph-circle", A.so); setText("junior-circle", A.jr); setText("senior-circle", A.sr);
        setText("fresh-title", `Age ${rng(A.fr)} (Freshman)`);
        setText("soph-title", `Age ${rng(A.so)} (Sophomore)`);
        setText("junior-title", `Age ${rng(A.jr)} (Junior)`);
        setText("senior-title", `Age ${rng(A.sr)} (Senior)`);

        setHTML("fresh-utr", `<strong>UTR Target:</strong> ${TARGETS.freshman.min.toFixed(1)} â€“ ${TARGETS.freshman.max.toFixed(1)}`);
        setHTML("soph-utr", `<strong>UTR Target:</strong> ${TARGETS.sophomore.min.toFixed(1)} â€“ ${TARGETS.sophomore.max.toFixed(1)}`);
        setHTML("junior-utr", `<strong>UTR Target:</strong> ${TARGETS.junior.min.toFixed(1)} â€“ ${TARGETS.junior.max.toFixed(1)}`);
        setHTML("senior-utr", `<strong>UTR Target:</strong> ${TARGETS.senior.min.toFixed(1)} â€“ ${TARGETS.senior.max.toFixed(1)}`);
      })();

      /* ===== Chart render (exposed for reload) ===== */
      window.renderChart = function () {
        const canvas = document.getElementById("utrChart");
        if (!(canvas && window.Chart)) return false;
        try {
          const labels = [
            `Age ${ageNow} (Start)`,
            `Age ${ageNow + 1} (End Freshman)`,
            `Age ${ageNow + 2} (End Sophomore)`,
            `Age ${ageNow + 3} (End Junior)`,
            `Age ${ageNow + 4} (End Senior)`
          ];
          const baseline = 3.0;
          const minBand = [baseline, TARGETS.freshman.min, TARGETS.sophomore.min, TARGETS.junior.min, TARGETS.senior.min];
          const maxBand = [baseline, TARGETS.freshman.max, TARGETS.sophomore.max, TARGETS.junior.max, TARGETS.senior.max];
          const midLine = [baseline, mid(TARGETS.freshman), mid(TARGETS.sophomore), mid(TARGETS.junior), mid(TARGETS.senior)];

          const ctx = canvas.getContext("2d");
          new Chart(ctx, {
            type: "line",
            data: {
              labels,
              datasets: [
                { label: "Target Range (min)", data: minBand, borderColor: "rgba(56,189,248,0)", backgroundColor: "rgba(56,189,248,0.15)", pointRadius: 0, fill: "+1" },
                { label: "Target Range (max)", data: maxBand, borderColor: "rgba(56,189,248,0)", backgroundColor: "rgba(56,189,248,0.15)", pointRadius: 0, fill: false },
                { label: "John's Target (midpoint)", data: midLine, borderColor: "#38BDF8", backgroundColor: "rgba(56,189,248,0.25)", tension: 0.35, pointRadius: 5, pointBackgroundColor: "#38BDF8", fill: false },
                { label: "NCAA D3 Minimum", data: [6, 6, 6, 6, 6], borderColor: "rgba(52,211,153,0.6)", borderDash: [5, 5], pointRadius: 0, fill: false },
                { label: "NCAA D2 Target", data: [9.5, 9.5, 9.5, 9.5, 9.5], borderColor: "rgba(251,191,36,0.7)", borderDash: [5, 5], pointRadius: 0, fill: false },
                { label: "NCAA D1 Target", data: [12.5, 12.5, 12.5, 12.5, 12.5], borderColor: "rgba(251,113,133,0.7)", borderDash: [5, 5], pointRadius: 0, fill: false }
              ]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              scales: {
                y: { beginAtZero: true, title: { display: true, text: "Universal Tennis Rating (UTR)", color: "#F5F5F4" }, ticks: { color: "#F5F5F4" }, grid: { color: "rgba(255,255,255,0.08)" } },
                x: { title: { display: true, text: "Age / High School Year", color: "#F5F5F4" }, ticks: { color: "#F5F5F4" }, grid: { color: "rgba(255,255,255,0.04)" } }
              },
              plugins: {
                legend: { labels: { color: "#F5F5F4" } },
                tooltip: {
                  titleColor: "#1C1917",
                  bodyColor: "#1C1917",
                  backgroundColor: "#F5F5F4",
                  callbacks: { label: (ctx) => `${ctx.dataset.label}: ${Number.isFinite(ctx.parsed.y) ? ctx.parsed.y.toFixed(1) : ctx.parsed.y}` }
                }
              }
            }
          });
          const fb = document.getElementById("chart-fallback");
          if (fb) fb.classList.add("hidden");
          return true;
        } catch (e) {
          console.warn("Chart render failed:", e);
          return false;
        }
      };

      /* ===== Initial chart attempt or fallback ===== */
      (function initChart() {
        if (!window.Chart) {
          showFallback();
        } else {
          const ok = window.renderChart();
          if (!ok) showFallback();
        }
        function showFallback() {
          const el = document.getElementById("chart-fallback");
          if (!el) return;
          el.classList.remove("hidden");
          const fmt = (mn, mx) => `${mn.toFixed(1)} â€“ ${mx.toFixed(1)}`;
          document.getElementById("fb-fresh").textContent = `End Freshman: ${fmt(TARGETS.freshman.min, TARGETS.freshman.max)}`;
          document.getElementById("fb-soph").textContent = `End Sophomore: ${fmt(TARGETS.sophomore.min, TARGETS.sophomore.max)}`;
          document.getElementById("fb-junior").textContent = `End Junior: ${fmt(TARGETS.junior.min, TARGETS.junior.max)}`;
          document.getElementById("fb-senior").textContent = `End Senior: ${fmt(TARGETS.senior.min, TARGETS.senior.max)}`;
        }
      })();

      /* ===== Reload Chart button ===== */
      (function () {
        const btn = document.getElementById("btn-reload-chart");
        if (!btn) return;
        btn.addEventListener("click", async () => {
          const original = btn.textContent;
          btn.disabled = true;
          btn.textContent = "Loadingâ€¦";
          try {
            await window.reloadChartJs();
            setTimeout(() => {
              const ok = window.renderChart();
              if (!ok) throw new Error("Render failed");
              btn.disabled = false;
              btn.textContent = original;
              document.getElementById("chart-fallback")?.classList.add("hidden");
            }, 50);
          } catch (e) {
            console.warn(e);
            btn.disabled = false;
            btn.textContent = "Retry";
          }
        });
      })();

      /* ===== Accordions ===== */
      document.querySelectorAll(".accordion-item").forEach((item) => {
        const header = item.querySelector(".accordion-header");
        const content = item.querySelector(".accordion-content");
        const icon = header.querySelector(".acc-icon");

        header.addEventListener("click", () => {
          const isOpen = header.getAttribute("aria-expanded") === "true";
          document.querySelectorAll(".accordion-header").forEach((h) => {
            h.setAttribute("aria-expanded", "false");
            const c = h.parentElement?.querySelector(".accordion-content");
            if (c) { c.style.maxHeight = "0px"; c.classList.remove("open"); }
            const ic = h.querySelector(".acc-icon");
            if (ic) ic.style.transform = "rotate(0deg)";
          });
          if (!isOpen) {
            header.setAttribute("aria-expanded", "true");
            content.style.maxHeight = content.scrollHeight + "px";
            content.classList.add("open");
            if (icon) icon.style.transform = "rotate(180deg)";
          }
        });

        header.setAttribute("aria-expanded", "false");
      });

      /* ===== Nav active link ===== */
      const navLinks = document.querySelectorAll(".nav-link");
      const sections = document.querySelectorAll("section[id]");
      navLinks.forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const id = link.getAttribute("href").substring(1);
          document.getElementById(id)?.scrollIntoView({ behavior: "smooth" });
        });
      });
      let ticking = false;
      window.addEventListener("scroll", () => {
        if (!ticking) {
          window.requestAnimationFrame(() => {
            let current = "";
            sections.forEach((sec) => {
              const top = sec.getBoundingClientRect().top + window.pageYOffset;
              if (window.pageYOffset >= top - 100) current = sec.id;
            });
            navLinks.forEach((a) => {
              a.classList.toggle("active", a.getAttribute("href").includes(current));
            });
            ticking = false;
          });
          ticking = true;
        }
      }, { passive: true });

      /* ===== Mobile menu ===== */
      const btn = document.getElementById("mobile-menu-button");
      const closeBtn = document.getElementById("close-mobile-menu");
      const overlay = document.getElementById("mobile-menu-overlay");
      const backdrop = document.getElementById("mobile-menu-backdrop");
      const wrapper = document.getElementById("page-wrapper");

      function openMenu() {
        overlay.classList.add("open");
        backdrop.classList.add("open");
        wrapper.classList.add("menu-open");
        document.body.classList.add("no-scroll");
        btn?.setAttribute("aria-expanded", "true");
      }
      function closeMenu() {
        overlay.classList.remove("open");
        backdrop.classList.remove("open");
        wrapper.classList.remove("menu-open");
        document.body.classList.remove("no-scroll");
        btn?.setAttribute("aria-expanded", "false");
      }

      btn?.addEventListener("click", openMenu);
      closeBtn?.addEventListener("click", closeMenu);
      backdrop?.addEventListener("click", closeMenu);
      document.addEventListener("keydown", (e) => { if (e.key === "Escape" && overlay.classList.contains("open")) closeMenu(); });
      document.querySelectorAll(".mobile-nav-link").forEach((a) => {
        a.addEventListener("click", (e) => {
          e.preventDefault();
          const id = a.getAttribute("href").substring(1);
          document.getElementById(id)?.scrollIntoView({ behavior: "smooth" });
          setTimeout(closeMenu, 300);
        });
      });

      /* ===== Print buttons ===== */
      (function initPrint() {
        const btnAll = document.getElementById("btn-print-all");
        const btnCC = document.getElementById("btn-print-cc");
        btnAll?.addEventListener("click", () => { document.body.classList.remove("print-limited"); window.print(); });
        btnCC?.addEventListener("click", () => {
          document.body.classList.add("print-limited");
          window.print();
          setTimeout(() => document.body.classList.remove("print-limited"), 1000);
        });
      })();

      /* ===== Copy email ===== */
      (function initCopy() {
        const copyBtn = document.getElementById("copy-email");
        const emailBox = document.getElementById("email-template");
        copyBtn?.addEventListener("click", async () => {
          try {
            await navigator.clipboard.writeText(emailBox.textContent.trim());
            copyBtn.textContent = "Copied!";
            setTimeout(() => (copyBtn.textContent = "Copy"), 1500);
          } catch (e) { console.error("Copy failed", e); }
        });
      })();
    });
  </script>
</body>
</html>
